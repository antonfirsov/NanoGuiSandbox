cmake_minimum_required(VERSION 3.2 FATAL_ERROR)
cmake_policy(VERSION 3.2)

project (NanoGuiSandbox)

# Disable building extras we won't need (pure C++ project)
set(NANOGUI_BUILD_EXAMPLE OFF CACHE BOOL " " FORCE)
set(NANOGUI_BUILD_PYTHON  OFF CACHE BOOL " " FORCE)
set(NANOGUI_BUILD_SHARED OFF CACHE BOOL " " FORCE)
set(NANOGUI_INSTALL       OFF CACHE BOOL " " FORCE)

# Add the configurations from nanogui
add_subdirectory(ext/nanogui)

# For reliability of parallel build, make the NanoGUI targets dependencies
set_property(TARGET glfw glfw_objects nanogui PROPERTY FOLDER "dependencies")


if (MSVC)
	add_definitions(" /std:c++14")
else()
	add_definitions(" -std=c++14")
endif()

# Various preprocessor definitions have been generated by NanoGUI
add_definitions(${NANOGUI_EXTRA_DEFS})

# On top of adding the path to nanogui/include, you may need extras
include_directories(${NANOGUI_EXTRA_INCS} ext/nanogui/include)

#include_directories("${PROJECT_SOURCE_DIR}")

set(EXECUTABLE_OUTPUT_PATH "bin")

add_executable(NanoGuiSandbox
	./src/Main.cpp
)

target_link_libraries(NanoGuiSandbox nanogui ${NANOGUI_EXTRA_LIBS})